<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript">
    [
        'https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js',
        'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js',
        'https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js',
        'https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular-route.min.js',
        'app/app.modules.js',
        'app/controllers/VisualizeController.js',
        'app/services/VisualizeService.js',
        'app/directives/VisualizeDirective.js',
        'assets/js/data.js'
    ].forEach(function(src) {
        var script = document.createElement('script');
        script.src = src;
        script.async = false; 
        document.head.appendChild(script);
    });
    </script>
    <title>IoT Data</title>
</head>
<!---------------------------------------------------------------------------------------------------->
<body ng-app="myApp" ng-controller="VisualizeController">
    <div></div>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" type='text/css' media="all">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" type="text/css" media="all">
    <!-- Google Font -->
    <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans' type='text/css' media="all">
    <!-- Custom Styles -->
    <link rel="stylesheet" href="assets/css/mystyles.css" type='text/css' media="all">
    
    <!-- Start Body for Real -->
    <div class="container-fluid">
        <div class="row">
            <nav class="navbar navbar-inverse">
                <a class="navbar-brand">Data Visualization</a>
            </nav>
            <div class="col-sm-12">
                <!--svg line chart-->
                <h2>IoT CO<sub>2</sub> Data</h2>
                <div class="chart" style="width:{{ width }}px; height:{{ height }}px;">
                    <div class="y" style="width: {{ height }}px;">{{ yAxis }}</div>
                    <div class="x">{{ xAxis }}</div>
                    <svg style="width:{{width}}px; height:{{height}}px;">
                        <line ng-xa="0"
                              ng-ya="{{ expected / max * height }}"
                              ng-xb="{{ width }}"
                              ng-yb="{{ expected / max * height }}"
                              style="stroke: red">
                        </line>
                        <line ng-repeat="line in data track by $index"
                              ng-xa="{{ $index / data.length * width }}"
                              ng-ya="{{ data[$index - 1].a / max * height }}"
                              ng-xb="{{ ($index + 1) / data.length * width }}"
                              ng-yb="{{ line.a / max * height }}"
                              style="stroke: orange">
                        </line>
                        <line ng-repeat="line in data track by $index"
                              ng-xa="{{ $index / data.length * width }}"
                              ng-ya="{{ data[$index - 1].b / max * height }}"
                              ng-xb="{{ ($index + 1) / data.length * width }}"
                              ng-yb="{{ line.b / max * height }}"
                              style="stroke: blue">
                        </line>
                    </svg>
                </div>
                <!--<table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th text-align="center">Week</th>
                            <th text-align="center">Point A</th>
                            <th text-align="center">Point B</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="m in data track by $index">
                            <td>{{ $index + 1 }}</td>
                            <td>{{ m.a }}</td>
                            <td>{{ m.b }}</td>
                        </tr>
                    </tbody>
                </table>-->
            </div>
        </div>
    </div><!-- /container -->
</body>
<div ng-if="false">
    <h1>Loading the application, please hold on...</h1>
</div>
</html>